(self.webpackChunknosgetesclimat_doc=self.webpackChunknosgetesclimat_doc||[]).push([[768],{8529:(e,n,r)=>{e.exports={src:{srcSet:r.p+"assets/ideal-img/website-dev-workflow.26e057a.640.png 640w,"+r.p+"assets/ideal-img/website-dev-workflow.189b99b.1030.png 1030w",images:[{path:r.p+"assets/ideal-img/website-dev-workflow.26e057a.640.png",width:640,height:983},{path:r.p+"assets/ideal-img/website-dev-workflow.189b99b.1030.png",width:1030,height:1582}],src:r.p+"assets/ideal-img/website-dev-workflow.26e057a.640.png",toString:function(){return r.p+"assets/ideal-img/website-dev-workflow.26e057a.640.png"},placeholder:void 0,width:640,height:983},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAPCAYAAADd/14OAAAACXBIWXMAAAsTAAALEwEAmpwYAAABuElEQVR4nE2RMYvUQBTH/yabnUyym80mG+/mNiacjrikyBVBGbYJCMoWtmnk4Lo0ssjhB5jKzivSCFfZ5xtYbXdVwGYLWRA/ysjEEH0wvJnHj/+8/3sAAL4/kfTjwU/ef12yd19W57vPUSxuKd81BFIZGKNVJsJwDsACcAbgvL9H2Qz1va4NISoKQjiAGYBHYz1NbVRyOr6LurMGRQ/A0yH7CAIPuz0ZwbpWlpLKqIvaCug6DsMX82SRLHnwyhPilvZQQpLL5/HVum3VVN4c7GZ/Ik1zIu1RTUMvfrkNt3NVKRMLsniNyLoqulo3PQFghttwHt8JOqXTCkDYK17nn1xI6BEweF4Qi5g6mxUDYCRJsuSck17xvuh6+1GZzVDFlDc7kslSu7cAPANAdP8j2Dv861a7X2tgmIDdg90AOnD0kP095+TD5kL3ZTAGp6pgHko1GcEImIk4pkrKSSuy4MK2n9QFc76/yd1vqbT/fT1sRElpHMrS/m9Dfu7mj9Fmx35FEsqQkIbSuWDOdQ730sVZ4TisFXcUXfFr8SCOwcPbY9CVP1c/yt++TG/sYpWwjT7OhqlWmX8APVVrGYIJl18AAAAASUVORK5CYII="}},2637:(e,n,r)=>{"use strict";r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>p,frontMatter:()=>a,metadata:()=>o,toc:()=>c});var s=r(5893),t=r(1151),i=r(5944);const a={title:"\ud83d\udd04 Process de d\xe9veloppement"},l="Process de d\xe9veloppement",o={id:"website/workflow",title:"\ud83d\udd04 Process de d\xe9veloppement",description:"Branches",source:"@site/docs/website/workflow.mdx",sourceDirName:"website",slug:"/website/workflow",permalink:"/nosgestesclimat-doc/docs/website/workflow",draft:!1,unlisted:!1,editUrl:"https://github.com/incubateur-ademe/nosgestesclimat-doc/docs/website/workflow.mdx",tags:[],version:"current",frontMatter:{title:"\ud83d\udd04 Process de d\xe9veloppement"},sidebar:"websiteSidebar",previous:{title:"Introduction",permalink:"/nosgestesclimat-doc/docs/website/"}},d={},c=[{value:"Branches",id:"branches",level:2},{value:"2 branches permanentes",id:"2-branches-permanentes",level:3},{value:"Une branche temporaire",id:"une-branche-temporaire",level:3},{value:"Process",id:"process",level:2},{value:"Cycle de vie d\u2019une feature/fix",id:"cycle-de-vie-dune-featurefix",level:3},{value:"Cycle de vie d\u2019une release",id:"cycle-de-vie-dune-release",level:3}];function u(e){const n={h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",strong:"strong",ul:"ul",...(0,t.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"process-de-d\xe9veloppement",children:"Process de d\xe9veloppement"}),"\n",(0,s.jsx)(i.Z,{img:r(8529),style:{width:"50%"}}),"\n",(0,s.jsx)(n.h2,{id:"branches",children:"Branches"}),"\n",(0,s.jsx)(n.h3,{id:"2-branches-permanentes",children:"2 branches permanentes"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"main"})," : la prod. Ne peut \xeatre mis \xe0 jour que via une branche de release\n(et une validation produit). Elle est associ\xe9e \xe0 une version fixe du mod\xe8le."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"preprod"})," : notre environnement de dev sur lequel arrive toutes les PR\n(apr\xe8s code review) non recett\xe9es par Jeanne. La recette fonctionnelle \u201crapide\u201d\nse fait ici. Cette branche risque forc\xe9ment de contenir des bugs vu que\nn\u2019importe qui peut merger sans recette fonctionnelle. Elle est associ\xe9e \xe0\nlatest du mod\xe8le."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"une-branche-temporaire",children:"Une branche temporaire"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"release-X-Y-Z"})," : Lorsque l\u2019on est pr\xeat \xe0 faire une release, on cr\xe9e cette\nbranche \xe0 partir de preprod. Plus aucune feature ne sera ajout\xe9e \xe0 la release\npar la suite. Elle a les m\xeames variables d\u2019env que la prod (y compris la\nversion du mod\xe8le). La recette fonctionnelle \u201capprofondie\u201d se fait ici. Les fix\nde bugs d\xe9couverts pendant cette recette sont merg\xe9s directement dans cette\nbranche. Cette branche est ensuite squash & merge dans main, puis merge dans\npreprod."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"process",children:"Process"}),"\n",(0,s.jsx)(n.h3,{id:"cycle-de-vie-dune-featurefix",children:"Cycle de vie d\u2019une feature/fix"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Cr\xe9ation d\u2019une branche de travail \xe0 partir de preprod. Vous pouvez nommer\ncette branche comme vous le souhaitez (je prends personnellement le num\xe9ro\nde ticket Notion, mais \u201ccertains\u201d ne sont pas fan)."}),"\n",(0,s.jsx)(n.li,{children:"Cr\xe9ation d\u2019une PR de cette branche vers preprod. La PR se nomme\n\u201cnom_du_ticket_notion_[NGC-numero-notion]\u201d. Demande de review lorsque l\u2019on\nestime le travail fait et que les tests e2e passent."}),"\n",(0,s.jsx)(n.li,{children:"Si validation de la PR, plus aucune feature ne doit \xeatre ajout\xe9e \xe0 la\nbranche (sauf petit fix \xe0 la marge demand\xe9 dans les commentaires de la\nreview). Elle peut \xeatre merg\xe9e directement (essayons de ne pas trop trainer\npour ne pas avoir 15 merge \xe0 faire ensuite)"}),"\n",(0,s.jsx)(n.li,{children:"Si demande de modifications revenir \xe0 l\u2019\xe9tape 2."}),"\n",(0,s.jsx)(n.li,{children:"Recette fonctionnelle dans preprod. Si tout va bien, on oublie. Sinon \xe7a\nretourne dans le sprint backlog, on r\xe9ouvre la branche et on retourne \xe0\nl\u2019\xe9tape 2."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"cycle-de-vie-dune-release",children:"Cycle de vie d\u2019une release"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Tata Jeanne dit \u201cC bon la release c go mdr jpp\u201d \u21d2 on met \xe0 jour le num\xe9ro de\nrelease dans package.json sur preprod puis on cr\xe9e une branche de release.\nCette branche se nomme release-X-Y-Z (et pas releaseX.Y.Z ou releaseXYZ)"}),"\n",(0,s.jsx)(n.li,{children:"On cr\xe9e une PR de la branche de release vers main. On pense bien \xe0 fixer la\nversion du mod\xe8le sur cette branche."}),"\n",(0,s.jsx)(n.li,{children:"Tata Jeanne (abr\xe9g\xe9e \u201cTJ\u201d par la suite) fait une recette approfondie sur\nl\u2019url de cette PR."}),"\n",(0,s.jsx)(n.li,{children:"Chaque bug rep\xe9r\xe9 par TJ donne lieu \xe0 un fix (reprendre Cycle de vie d\u2019une\nfeature/fix en rempla\xe7ant preprod par release-X-Y-Z)"}),"\n",(0,s.jsx)(n.li,{children:"TJ donne son go pour la mise en prod. Elle ne s\u2019effectue pas apr\xe8s 16h, ni\nun jeudi aprem. On r\xe9cup\xe8re toutes les PR d\u2019ajout de features / correction de\nbugs en prod pour faire la liste du changelog. On fait ensuite un merge \u201cSquash\nand merge\u201d avec comme titre \u201cRelease X.Y.Z\u201d et comme description le changelog."}),"\n",(0,s.jsx)(n.li,{children:"On cr\xe9e une nouvelle PR de la branche de release vers preprod (pour\nr\xe9cup\xe9rer les fix de la release). On fait un commit de merge normal."}),"\n",(0,s.jsx)(n.li,{children:"On cr\xe9e une nouvelle release sur le repo (bien penser \xe0 cr\xe9er une release\nsur main et pas preprod). Titre \u201cRelease X.Y.Z\u201d et changelog (pr\xe9c\xe9demment\n\xe9tabli) en description."}),"\n",(0,s.jsx)(n.li,{children:"On fait un message sur NGC-dev pour s\u2019autocongratuler et que TJ puisse aller\nfaire un tour sur la prod."}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}}}]);