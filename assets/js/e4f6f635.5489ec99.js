"use strict";(self.webpackChunknosgetesclimat_doc=self.webpackChunknosgetesclimat_doc||[]).push([[982],{100:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>u,frontMatter:()=>r,metadata:()=>a,toc:()=>d});var t=o(5893),i=o(1151);const r={title:"Add a new region (EN)"},s=void 0,a={id:"model/guides/i18n/ajout-region-en",title:"Add a new region (EN)",description:"Tutorial : A new calculation model for my country / region",source:"@site/docs/model/guides/i18n/ajout-region-en.mdx",sourceDirName:"model/guides/i18n",slug:"/model/guides/i18n/ajout-region-en",permalink:"/nosgestesclimat-doc/docs/model/guides/i18n/ajout-region-en",draft:!1,unlisted:!1,editUrl:"https://github.com/incubateur-ademe/nosgestesclimat-doc/docs/model/guides/i18n/ajout-region-en.mdx",tags:[],version:"current",frontMatter:{title:"Add a new region (EN)"},sidebar:"modelSidebar",previous:{title:"\u2699\ufe0f Les mosa\xefques",permalink:"/nosgestesclimat-doc/docs/model/publicodes/mecanismes/mosaic"},next:{title:"Ajouter une nouvelle r\xe9gion (FR)",permalink:"/nosgestesclimat-doc/docs/model/guides/i18n/ajout-region-fr"}},l={},d=[{value:"Tutorial : A new calculation model for my country / region",id:"tutorial--a-new-calculation-model-for-my-country--region",level:2},{value:"How to contribute?",id:"how-to-contribute",level:2},{value:"Step 1 : Create a GitHub account",id:"step-1--create-a-github-account",level:3},{value:"Step 2 : Look for your country / region",id:"step-2--look-for-your-country--region",level:3},{value:"Your model is not yet supported in NGC ?",id:"your-model-is-not-yet-supported-in-ngc-",level:3},{value:"Propose a change on an existing model",id:"propose-a-change-on-an-existing-model",level:3},{value:"Step 3 : Make a Pull Request",id:"step-3--make-a-pull-request",level:3},{value:"Step 4 : Review your modifications",id:"step-4--review-your-modifications",level:3},{value:"Step 5 : Validate your modifications",id:"step-5--validate-your-modifications",level:3}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"tutorial--a-new-calculation-model-for-my-country--region",children:"Tutorial : A new calculation model for my country / region"}),"\n",(0,t.jsx)(n.admonition,{title:"Version fran\xe7aise",type:"tip",children:(0,t.jsxs)(n.p,{children:["Ce guide est \xe9galement disponible en fran\xe7ais ",(0,t.jsx)(n.a,{href:"./ajout-region-fr",children:"voir"}),"."]})}),"\n",(0,t.jsx)(n.p,{children:'The internationalization of "Nos Gestes Climat" is complex : it is not only a\nquestion of language translation but also to put in place a solution to adapt\nthe calculation and language depending on the country an user is connecting\nfrom.'}),"\n",(0,t.jsxs)(n.p,{children:["Please, do not hesitate to contribute and to contact us if needed at\n",(0,t.jsx)(n.code,{children:"contact@nosgestesclimat.fr"})," or with a GitHub issue."]}),"\n",(0,t.jsx)(n.h2,{id:"how-to-contribute",children:"How to contribute?"}),"\n",(0,t.jsxs)(n.p,{children:["GitHub is a dedicated platform for code and discussion. ",(0,t.jsx)(n.a,{href:"https://github.com/incubateur-ademe/nosgestesclimat/blob/master/CONTRIBUTING.md",children:"This\npage"}),"\nexplains you (in french) basics of the language used for the calculation\nmodels. You do not need to be a developper in order to contribute, this\nlanguage is intuitive and our infrastructure allows you to publish a version of\nyour model without having to go through all the website code."]}),"\n",(0,t.jsx)(n.h3,{id:"step-1--create-a-github-account",children:"Step 1 : Create a GitHub account"}),"\n",(0,t.jsxs)(n.p,{children:["GitHub is a particularly interesting platform for managing code versions. To\nstart your own version, create an account on GitHub and find our repository :\n",(0,t.jsx)(n.a,{href:"https://github.com/incubateur-ademe/nosgestesclimat",children:(0,t.jsx)(n.code,{children:"@incubateur-ademe/nosgestesclimat"})})]}),"\n",(0,t.jsx)(n.h3,{id:"step-2--look-for-your-country--region",children:"Step 2 : Look for your country / region"}),"\n",(0,t.jsxs)(n.p,{children:["You can then find the different models we support for the diverse regions and\ncountries in the directory : ",(0,t.jsx)(n.code,{children:"data/i18n/models"})]}),"\n",(0,t.jsx)(n.admonition,{title:"Note",type:"note",children:(0,t.jsxs)(n.p,{children:["Those files contains calculation rules (in yaml format) which are linked to the\nfrench model (available in the ",(0,t.jsx)(n.code,{children:"/data/"})," directory)."]})}),"\n",(0,t.jsx)(n.h3,{id:"your-model-is-not-yet-supported-in-ngc-",children:"Your model is not yet supported in NGC ?"}),"\n",(0,t.jsxs)(n.p,{children:["You can create your own !  Your file should be named with the country-code\n(uppercase), dash-separated with the language code (lowercase) and the\nextension ",(0,t.jsx)(n.code,{children:".publicodes"}),", for instance: for the United-Kingdom, in english the\nfile is named ",(0,t.jsx)(n.code,{children:"UK-en-us.publicodes"})," (",(0,t.jsx)(n.code,{children:"UK"})," being the country code of the United\nKingdom and ",(0,t.jsx)(n.code,{children:"en-us"})," being the language code). You can then start writing your\nown rule."]}),"\n",(0,t.jsx)(n.admonition,{title:"Caution",type:"warning",children:(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"params"})," section contains the caracteristic of your region and is\nmandatory. You should at least indicate the ",(0,t.jsx)(n.code,{children:"nom"})," (name) and ",(0,t.jsx)(n.code,{children:"code"})," attributes.\nThe ",(0,t.jsx)(n.code,{children:"gentil\xe9"})," (demonym) and ",(0,t.jsx)(n.code,{children:"drapeau"})," (flag) attributes are optionnal."]})}),"\n",(0,t.jsx)(n.p,{children:"Example :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"params:\n  code: UK\n  nom: United Kingdom\n  gentil\xe9: British\n  drapeau: GB\n"})}),"\n",(0,t.jsx)(n.p,{children:"You can then follow the steps below to improve your model."}),"\n",(0,t.jsx)(n.h3,{id:"propose-a-change-on-an-existing-model",children:"Propose a change on an existing model"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Open the corresponding file for the region (according to the\ncountry/language codes)."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Rewrite the file according to the rules declared in the base model (french)."}),"\n",(0,t.jsx)(n.admonition,{title:"Caution",type:"warning",children:(0,t.jsxs)(n.p,{children:["Be careful to report the keys of the french model ",(0,t.jsx)(n.strong,{children:"exactly"})," as-is.\nOtherwise the translation will not be operational. You can copy-paste them\nin order to be sure they are exactly the same."]})}),"\n",(0,t.jsxs)(n.p,{children:["For instance, the carbon intensity of the electricity mix is defined in the\nrule ",(0,t.jsx)(n.code,{children:"intensit\xe9 \xe9lectricit\xe9"})," of the file ",(0,t.jsx)(n.code,{children:"data/divers/commun.publicodes"}),". To\nedit that value and title in the newly created model, you should re-write\nthis rule with the new attributes."]}),"\n",(0,t.jsx)(n.p,{children:"Example for the UK:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"intensit\xe9 \xe9lectricit\xe9:\n  titre: Climate intensity of United-Kingdom's electricity mix\n  formule: 0.236\n  note: |\n    [Electricity Map](https://app.electricitymaps.com/map) view 5 years, 2022\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.admonition,{title:"Note",type:"note",children:(0,t.jsx)(n.p,{children:"The model's code may contain minor subtilities (in particular in order to\ngenerate 'Mosaics'), do not hesitate to ask for help if you don't understand\nsomething."})}),"\n",(0,t.jsxs)(n.p,{children:["For your modifications to be taken into account, it is necessary to have both\nfile ",(0,t.jsx)(n.code,{children:"XX-fr.publicodes"})," and ",(0,t.jsx)(n.code,{children:"XX-en.publicodes"})," (for french and english\nlanguage) containing the rules identical to the twin file but translated. You\ncan use the ",(0,t.jsx)(n.code,{children:"scripts/i18n/translateRegionModel.js"})," script to automatically\ntranslate your file. Be carefull, the previously translated file will be\noverwritten. If translation improvements have been made before, take a look at\nthe diffs."]}),"\n",(0,t.jsxs)(n.p,{children:["Find the documentation about the translation ",(0,t.jsx)(n.a,{href:"./traduction",children:"here"}),"."]}),"\n",(0,t.jsx)(n.admonition,{title:"Tips",type:"tip",children:(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Think about translating your region model (see previous section)"}),"\n",(0,t.jsxs)(n.li,{children:["You can (and should) contribute with running the simulator locally in order\nto see what modifications you brought in real time. (See the ",(0,t.jsx)(n.a,{href:"https://github.com/incubateur-ademe/nosgestesclimat/blob/master/CONTRIBUTING.md",children:"contribution\nguide\n(FR)"}),")"]}),"\n"]})}),"\n",(0,t.jsx)(n.h3,{id:"step-3--make-a-pull-request",children:"Step 3 : Make a Pull Request"}),"\n",(0,t.jsxs)(n.p,{children:["When you are happy with your modifications, make a PR\n(",(0,t.jsx)(n.a,{href:"https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/creating-a-pull-request",children:"guide"}),")."]}),"\n",(0,t.jsx)(n.p,{children:"Review your modifications before to publish it. But don't worry : if you broke\nsomething, you will see a comment with details of what doesn't work anymore.\nSomeone will also review your edits before they are merged in production."}),"\n",(0,t.jsx)(n.h3,{id:"step-4--review-your-modifications",children:"Step 4 : Review your modifications"}),"\n",(0,t.jsxs)(n.p,{children:['Your version of the model is now linked to the website of "nosgestesclimat".\nYou can see your modifications live at the following address\n',(0,t.jsx)(n.code,{children:"https://nosgestesclimat.fr/simulateur/bilan?PR={PR-ID}"}),". (Replace ",(0,t.jsx)(n.code,{children:"{PR-ID}"}),"\nwith the id of your PR.)"]}),"\n",(0,t.jsx)(n.h3,{id:"step-5--validate-your-modifications",children:"Step 5 : Validate your modifications"}),"\n",(0,t.jsx)(n.p,{children:"Our team will review your changes and they will be able to answer your\nquestions. The goal is to propose a version of the model for each\ncountry/region. When your changes will be validated, it will be deployed and\nonline on our website. Any person that will connect from the specific country,\nyou made a model for, will see your version."})]})}function u(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},1151:(e,n,o)=>{o.d(n,{Z:()=>a,a:()=>s});var t=o(7294);const i={},r=t.createContext(i);function s(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);